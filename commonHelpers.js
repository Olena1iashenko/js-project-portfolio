import{a as g,i as C}from"./assets/vendor-9c7cd857.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const f="/js-project-portfolio/assets/icons-181cc157.svg#icon-x",h=document.querySelector(".footer-form"),r=document.querySelector("#user-email"),c=document.querySelector("#email-message"),i=document.querySelector("#user-comment"),a=document.querySelector("#comment-message"),S=document.querySelector(".backdrop"),E=document.querySelector(".modal"),O=document.querySelector(".modal-btn"),M=document.querySelector(".footer-btn");function m(t){const e=r.getAttribute("pattern");return new RegExp(e).test(t)}function p(t){return t.length>=10}function y(t,e,s){C.show({iconUrl:t,titleColor:"White",titleSize:"24px",message:e,messageColor:"White",messageSize:"16px",backgroundColor:s,position:"topRight",timeout:3e3})}g.defaults.baseURL="https://portfolio-js.b.goit.study/api";async function N(t){const e={email:t.email,comment:t.comment},s="/requests";return g.post(s,e)}function v(t,e){t.classList.add("input-correct"),e.classList.remove("input-error"),e.classList.add("input-success"),e.textContent="Success!",e.style.display="block"}function l(t,e){t.classList.add("input-incorrect"),e.classList.remove("input-success"),e.classList.add("input-error"),e.textContent="Please, try again!",e.style.display="block"}function L(t,e){t.classList.remove("input-incorrect","input-correct"),e.classList.remove("input-error","input-success"),e.style.display="none"}function b(t,e){t.classList.remove("input-incorrect","input-correct"),e.classList.remove("input-error","input-success"),e.style.display="none"}function w(){document.body.classList.remove("backdrop-after"),S.classList.remove("backdrop-is-open"),E.classList.remove("modal-is-open")}function T(){document.body.classList.add("backdrop-after"),S.classList.add("backdrop-is-open"),E.classList.add("modal-is-open")}function k(t){(t.target.classList.contains("backdrop")||t.target.nodeName==="svg"||t.target.nodeName==="BUTTON")&&(w(),O.removeEventListener("click",k))}function q(t){t.key==="Escape"&&(w(),document.removeEventListener("keydown",q))}function I(){const t=r.value.trim(),e=i.value.trim();m(t)||l(r,c),p(e)||l(i,a)}async function P(t){t.preventDefault();try{const e=r.value.trim(),s=i.value.trim();if(e===""||s===""){y(f,"Both fields are required. Please provide your email and comment before sending.","#e74a3b");return}if(!m(e))throw new Error("Invalid email format");if(!p(s))throw new Error("Comment must be at least 10 characters long");const u=await N({email:e,comment:s});h.reset(),T(),document.body.addEventListener("click",k),window.addEventListener("keydown",q)}catch(e){y(f,e.message,"#e74a3b")}}function x(){const t=r.value.trim(),e=i.value.trim();t===""||e===""||(m(t)?(v(r,c),setTimeout(()=>L(r,c),2e3)):(l(r,c),setTimeout(()=>b(r,c),2e3)),p(e)?(v(i,a),setTimeout(()=>L(i,a),2e3)):(l(i,a),setTimeout(()=>b(i,a),2e3)))}h.addEventListener("submit",P);M.addEventListener("click",I);r.addEventListener("input",x);i.addEventListener("input",x);
//# sourceMappingURL=commonHelpers.js.map
